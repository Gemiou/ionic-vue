"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var VueRouter=_interopDefault(require("vue-router")),script={name:"IonRouterVue",data:function(){return{leavingEl:null,enteringEl:null}},props:{bindCss:{type:Boolean,default:!1},animated:{type:Boolean,default:!0}},methods:{catchIonicGoBack:function(e){if(e.target){var t,n=e.target.closest("ion-back-button");if(n)this.$router.canGoBack()?(e.preventDefault(),this.$router.back()):void 0!==(t=n.defaultHref)&&(e.preventDefault(),this.$router.push(t))}},transition:function(e,t,n){var r=this,o=this.$refs.ionRouterOutlet;e&&e!==t&&(e.classList.add("ion-page","hide-page"),o.componentOnReady().then(function(o){o.commit(e,t,{duration:r.animated?void 0:0,direction:1===r.$router.direction?"forward":"back",deepWait:!0,showGoBack:r.$router.canGoBack()}).then(function(){return n()})}).catch(function(e){return console.error(e)}))},beforeEnter:function(e){this.enteringEl=e},beforeLeave:function(e){this.leavingEl=e},leave:function(e,t){this.transition(this.enteringEl,e,t)},enter:function(e,t){t()},afterEnter:function(e){},enterCancelled:function(e){},afterLeave:function(e){},leaveCancelled:function(e){}}},__vue_script__=script,__vue_render__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ion-router-outlet",{ref:"ionRouterOutlet",on:{click:e.catchIonicGoBack}},[n("transition",{attrs:{mode:"in-out",css:e.bindCss},on:{"before-enter":e.beforeEnter,enter:e.enter,"after-enter":e.afterEnter,"enter-cancelled":e.enterCancelled,"before-leave":e.beforeLeave,leave:e.leave,"after-leave":e.afterLeave,"leave-cancelled":e.leaveCancelled}},[n("router-view")],1)],1)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;var __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;function __vue_normalize__(e,t,n,r,o,i,u,a){var s=("function"==typeof n?n.options:n)||{};return s.__file="/data/source/ion-router-vue/src/IonRouterVue.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,o&&(s.functional=!0)),s._scopeId=r,s}function __vue_create_injector__(){var e=document.head||document.getElementsByTagName("head")[0],t=__vue_create_injector__.styles||(__vue_create_injector__.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(r,o){if(!document.querySelector('style[data-vue-ssr-id~="'+r+'"]')){var i=n?o.media||"default":r,u=t[i]||(t[i]={ids:[],parts:[],element:void 0});if(!u.ids.includes(r)){var a=o.source,s=u.ids.length;if(u.ids.push(r),n&&(u.element=u.element||document.querySelector("style[data-group="+i+"]")),!u.element){var _=u.element=document.createElement("style");_.type="text/css",o.media&&_.setAttribute("media",o.media),n&&(_.setAttribute("data-group",i),_.setAttribute("data-next-index","0")),e.appendChild(_)}if(n&&(s=parseInt(u.element.getAttribute("data-next-index")),u.element.setAttribute("data-next-index",s+1)),u.element.styleSheet)u.parts.push(a),u.element.styleSheet.cssText=u.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(a),l=u.element.childNodes;l[s]&&u.element.removeChild(l[s]),l.length?u.element.insertBefore(c,l[s]):u.element.appendChild(c)}}}}}var IonRouterVue=__vue_normalize__({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,__vue_is_functional_template__,__vue_module_identifier__,__vue_create_injector__,void 0),Router=function(e){function t(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];e.apply(this,t),this.direction=t.direction||1,this.viewCount=t.viewCount||0,this.prevRoute=this.history.current,this.extendHistory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.extendHistory=function(){var e=this;this.history._updateRoute=this.history.updateRoute,this.history.updateRoute=function(t){e.direction=e.guessDirection(t),e.viewCount+=e.direction,e.history._updateRoute(t)}},t.prototype.push=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];e.prototype.push.apply(this,t),this.direction=1,this.viewCount++},t.prototype.go=function(t){e.prototype.go.call(this,t),this.viewCount+=t,this.direction=t>0?1:-1},t.prototype.canGoBack=function(){return this.viewCount>0&&this.currentRoute.path.length>1},t.prototype.guessDirection=function(e){return this.prevRoute.fullPath===e.fullPath?-1:(this.prevRoute=this.history.current,1)},t}(VueRouter);Router.install=function(e){VueRouter.install(e),e.component("IonRouterVue",IonRouterVue)},module.exports=Router;
